!function(e){"use strict";e.module("app",["ngAnimate","ui.router","rzModule","pascalprecht.translate","templates","ngDropdowns","ngDialog","firebase","chart.js","easypiechart"]).run(function(){var e={apiKey:"AIzaSyDw_YugmuDa4zIj8LuOobtXRk3u1gMyc7E",authDomain:"los-datos-y-vos.firebaseapp.com",databaseURL:"https://los-datos-y-vos.firebaseio.com",storageBucket:"los-datos-y-vos.appspot.com",messagingSenderId:"893616193793"};firebase.initializeApp(e)})}(window.angular),function(e){"use strict";e.module("app").config(["$locationProvider","$stateProvider","$urlRouterProvider",function(e,t,a){e.html5Mode({enabled:!1}),t.state("root",{url:"",abstract:!0,views:{header:{templateUrl:"html/default/header.html",controller:"HeaderCtrl"}}}),t.state("root.welcome",{url:"/bienvenido",data:{bodyClass:"welcomeSlide"},views:{"container@":{templateUrl:"html/welcome/index.html",controller:"welcomeCtrl"}}}),t.state("root.signUpForm",{url:"/registro",views:{"container@":{templateUrl:"html/sign-up/index.html",controller:"signUpFormCtrl"}}}),t.state("root.signUpForm.classCode",{url:"/codigo-clase",data:{bodyClass:"classCodeSlide"},templateUrl:"html/sign-up/class-code.html"}),t.state("root.signUpForm.studentData",{url:"/informacion",data:{bodyClass:"studentDataSlide"},templateUrl:"html/sign-up/student-data.html"}),t.state("root.quizSection1",{url:"/primer-bloque",data:{stepNumber:1},views:{"container@":{templateUrl:"html/quiz/index.html"}}}),t.state("root.quizSection1.result",{url:"/resultados",data:{bodyClass:"section1ResultSlide"},templateUrl:"html/quiz/section1-result.html",controller:"ResultSection1Ctrl"}),t.state("root.quizSection1.question",{url:"/{pageNumber}",data:{bodyClass:"section1QuestionSlide"},templateUrl:"html/quiz/question.html",controller:"QuizCtrl"}),t.state("root.quizSection2",{url:"/segundo-bloque",data:{stepNumber:2},views:{"container@":{templateUrl:"html/quiz/index.html"}}}),t.state("root.quizSection2.result",{url:"/resultados",data:{bodyClass:"section2ResultSlide"},templateUrl:"html/quiz/section2-result.html",controller:"ResultSection2Ctrl"}),t.state("root.quizSection2.question",{url:"/{pageNumber}",data:{bodyClass:"section2QuestionSlide"},templateUrl:"html/quiz/question.html",controller:"QuizCtrl"}),t.state("root.quizSection3",{url:"/bloque-final",data:{stepNumber:3},views:{"container@":{templateUrl:"html/quiz/index.html"}}}),t.state("root.quizSection3.result",{url:"/resultados",data:{bodyClass:"section3ResultSlide"},templateUrl:"html/quiz/section3-result.html",controller:"ResultSection3Ctrl"}),a.otherwise("/bienvenido")}])}(window.angular),function(e){"use strict";e.module("app").config(["$translateProvider",function(e){var t={YOUR_DEPARTMENT:"a) Tu {{key}}",YOUR_PROVINCE:"b) {{key}}",YOUR_HOUSE_RESULT:"Tu casa",YOUR_DEPARTMENT_RESULT:"Tu {{key}}",YOUR_PROVINCE_RESULT:"{{key}}"};e.useSanitizeValueStrategy(null),e.translations("es",t).preferredLanguage("es")}])}(window.angular),function(e){"use strict";e.module("app").directive("comparisonMap",["$timeout",function(t){return{restrict:"E",replace:!0,scope:{clickFunction:"=",mapControl:"="},template:"<object type='image/svg+xml' id='comparisonMap' class='student-info__maps' data='img/maps/2.svg'></object>",link:function(a,s,n){var o=function(){void 0===s[0]&&t(function(){},2e3);for(var o,i=e.element(s[0].getSVGDocument().getElementsByTagName("g")),d=0;d<i.length;d++){var l=i[d];null==l.id||isNaN(l.id)||l.id!=n.province||(o=l,o.setAttribute("class","youngProportion"))}a.mapControl.map=o;for(var d=0;d<i.length;d++){var l=i[d];null==l.id||isNaN(l.id)||l.id==n.province||(l.classList.add("department"),l.addEventListener("click",function(e){r(),a.clickFunction(e)}))}},i=document.getElementById("comparisonMap");i.onload=function(){o()};var r=a.mapControl.removeActiveTooltips=function(){for(var t=e.element(s[0].getSVGDocument().getElementsByClassName("department active")),a=0;a<t.length;a++){var n=t[a];n.classList.remove("active")}}}}}])}(window.angular),function(e){"use strict";!function(e,t){var a=t.module("ngDropdowns",[]);a.run(["$templateCache",function(e){e.put("ngDropdowns/templates/dropdownSelect.html",['<div ng-class="{\'disabled\': dropdownDisabled}" class="wrap-dd-select" tabindex="0">','<span class="selected">{{dropdownModel[labelField]}}</span>','<ul class="dropdown">','<li ng-repeat="item in dropdownSelect"',' class="dropdown-item"',' dropdown-select-item="item"',' dropdown-item-label="labelField">',"</li>","</ul>","</div>"].join("")),e.put("ngDropdowns/templates/dropdownSelectItem.html",["<li ng-class=\"{divider: (dropdownSelectItem.divider && !dropdownSelectItem[dropdownItemLabel]), 'divider-label': (dropdownSelectItem.divider && dropdownSelectItem[dropdownItemLabel])}\">",'<a href="" class="dropdown-item"',' ng-if="!dropdownSelectItem.divider"',' ng-href="{{dropdownSelectItem.href}}"',' ng-click="selectItem()">',"{{dropdownSelectItem[dropdownItemLabel]}}","</a>",'<span ng-if="dropdownSelectItem.divider">',"{{dropdownSelectItem[dropdownItemLabel]}}","</span>","</li>"].join("")),e.put("ngDropdowns/templates/dropdownMenu.html",['<ul class="dropdown">','<li ng-repeat="item in dropdownMenu"',' class="dropdown-item"',' dropdown-item-label="labelField"',' dropdown-menu-item="item">',"</li>","</ul>"].join("")),e.put("ngDropdowns/templates/dropdownMenuItem.html",["<li ng-class=\"{divider: dropdownMenuItem.divider, 'divider-label': dropdownMenuItem.divider && dropdownMenuItem[dropdownItemLabel]}\">",'<a href="" class="dropdown-item"',' ng-if="!dropdownMenuItem.divider"',' ng-href="{{dropdownMenuItem.href}}"',' ng-click="selectItem()">',"{{dropdownMenuItem[dropdownItemLabel]}}","</a>",'<span ng-if="dropdownMenuItem.divider">',"{{dropdownMenuItem[dropdownItemLabel]}}","</span>","</li>"].join("")),e.put("ngDropdowns/templates/dropdownMenuWrap.html",'<div class="wrap-dd-menu" ng-class="{\'disabled\': dropdownDisabled}"></div>')}]),a.directive("dropdownSelect",["DropdownService",function(e){return{restrict:"A",replace:!0,scope:{dropdownSelect:"=",dropdownModel:"=",dropdownItemLabel:"@",dropdownOnchange:"&",dropdownDisabled:"="},controller:["$scope","$element",function(a,s){a.labelField=a.dropdownItemLabel||"text",e.register(s),this.select=function(e){t.equals(e,a.dropdownModel)||(a.dropdownModel=e),a.dropdownOnchange({selected:e}),s[0].blur()},s.bind("click",function(t){t.stopPropagation(),a.dropdownDisabled||e.toggleActive(s)}),a.$on("$destroy",function(){e.unregister(s)})}],templateUrl:"ngDropdowns/templates/dropdownSelect.html"}}]),a.directive("dropdownSelectItem",[function(){return{require:"^dropdownSelect",replace:!0,scope:{dropdownItemLabel:"=",dropdownSelectItem:"="},link:function(e,t,a,s){e.selectItem=function(){e.dropdownSelectItem.href||s.select(e.dropdownSelectItem)}},templateUrl:"ngDropdowns/templates/dropdownSelectItem.html"}}]),a.directive("dropdownMenu",["$parse","$compile","DropdownService","$templateCache",function(e,a,s,n){return{restrict:"A",replace:!1,scope:{dropdownMenu:"=",dropdownModel:"=",dropdownItemLabel:"@",dropdownOnchange:"&",dropdownDisabled:"="},controller:["$scope","$element",function(e,o){e.labelField=e.dropdownItemLabel||"text";var i=t.element(n.get("ngDropdowns/templates/dropdownMenu.html"));i.data("$dropdownMenuController",this);var r=a(i)(e),d=a(t.element(n.get("ngDropdowns/templates/dropdownMenuWrap.html")))(e);o.replaceWith(d),d.append(o),d.append(i),s.register(r),this.select=function(a){t.equals(a,e.dropdownModel)||(e.dropdownModel=a),e.dropdownOnchange({selected:a})},o.bind("click",function(t){t.stopPropagation(),e.dropdownDisabled||s.toggleActive(r)}),e.$on("$destroy",function(){s.unregister(r)})}]}}]),a.directive("dropdownMenuItem",[function(){return{require:"^dropdownMenu",replace:!0,scope:{dropdownMenuItem:"=",dropdownItemLabel:"="},link:function(e,t,a,s){e.selectItem=function(){e.dropdownMenuItem.href||s.select(e.dropdownMenuItem)}},templateUrl:"ngDropdowns/templates/dropdownMenuItem.html"}}]),a.factory("DropdownService",["$document",function(e){var a=e.find("body"),s={},n=[];return a.bind("click",function(){t.forEach(n,function(e){e.removeClass("active")})}),s.register=function(e){n.push(e)},s.unregister=function(e){var t;t=n.indexOf(e),t>-1&&n.splice(t,1)},s.toggleActive=function(e){t.forEach(n,function(t){t!==e&&t.removeClass("active")}),e.toggleClass("active")},s.clearActive=function(){t.forEach(n,function(e){e.removeClass("active")})},s.isActive=function(e){return e.hasClass("active")},s}])}(window,window.angular)}(window.angular),function(e){"use strict";e.module("app").directive("svgMap",function(){return{restrict:"E",replace:!0,template:"<object type='image/svg+xml' id='locationMap' class='student-info__maps'></object>",link:function(t,a,s){var n=function(){var n=function(t,s){if(t.id){var n=e.element(a[0].getSVGDocument().getElementsByClassName("selected"));n.removeClass("selected"),n.length>0&&(n[0].children[0].style.fill="#F2F2F2");var o=e.element(a[0].getSVGDocument().getElementById(("00"+t.id).slice(-5)));o.length&&(o.addClass("selected"),o.children("path")[0].style.fill="#FFEAA8")}};n(t.studentData.department),t.$watch(s.department,n)},o=function(e,t){e.id&&(a[0].data="img/maps/"+e.id+".svg")};t.$watch(s.province,o),a[0].getSVGDocument()?n():a.on("load",n)}}})}(window.angular),function(e){"use strict";e.module("app").factory("QuizFactory",function(){var e={1:{id:"section1",title:"Primer Paso",pages:{1:{previousPage:!1,nextPage:2,questions:[{id:"youngProportion",type:"slider",text:"1. En estos lugares que te detallamos, y teniendo en cuenta todas las personas que viven ahí, ¿qué porcentaje creés que son chicos de entre 15 y 18 años?",options:[{id:"department",textKey:"YOUR_DEPARTMENT"},{id:"province",textKey:"YOUR_PROVINCE"}]}]},2:{previousPage:1,nextPage:!1,questions:[{id:"schoolAttendance",type:"slider",text:"2. Contanos qué porcentaje de chicos de entre 15 y 18 años creés que van a la escuela en:",options:[{id:"department",textKey:"YOUR_DEPARTMENT"},{id:"province",textKey:"YOUR_PROVINCE"}]}]}}},2:{id:"section2",title:"Segundo Paso",pages:{1:{id:"avgPersonsPerHouse",previousPage:!1,nextPage:2,questions:[{id:"personsPerHouse",type:"numeric_single_option",text:"1. Contanos cuántas personas viven en tu casa:"},{id:"roomsPerHouse",type:"numeric_single_option",text:"2. Contanos cuántas habitaciones hay en tu casa:"},{id:"avgPersonsPerHouse",type:"numeric_multiple_option",text:"3. Cuántas personas, en promedio, creés que duermen por habitación en:",options:[{id:"department",textKey:"YOUR_DEPARTMENT"},{id:"province",textKey:"YOUR_PROVINCE"}]}]},2:{id:"avgRentingHouse",previousPage:1,nextPage:!1,questions:[{id:"rentedHouse",type:"radio_boolean",text:"1. El lugar en el que vos vivís, ¿es alquilado?"},{id:"personsRentingHouses",type:"slider",text:"2. Contanos qué porcentaje de personas creés que viven en un lugar alquilado en:",options:[{id:"department",textKey:"YOUR_DEPARTMENT"},{id:"province",textKey:"YOUR_PROVINCE"}]}]}}}};return e})}(window.angular),function(e){"use strict";e.module("app").factory("EventBusSvc",["$rootScope",function(e){var t=function(t,a){return e.$on(t,a)},a=function(t,a){e.$emit(t,a)};return{subscribe:t,broadcast:a}}])}(window.angular),function(e){"use strict";e.module("app").service("LocationIndicatorSvc",["$q","$http","$filter",function(t,a,s){var n=function(){var n=t.defer();return a.get("data/indicadores_provincia.json").success(function(t){var a=[];e.forEach(t,function(e){a.push({id:e.provincia_id,name:e.provincia_nombre,youngProportion:e.jovenes_proporcion,schoolAttendance:e.jovenes_asistencia_escolar,avgPersonsPerHouse:e.personas_por_cuarto,personsRentingHouses:e.propietarios_vivienda_proporcion})}),n.resolve(s("orderBy")(a,"name"))}).catch(function(e){n.reject(e)}),n.promise},o=function(){var n=t.defer();return a.get("data/indicadores_departamento.json").success(function(t){var a=[];e.forEach(t,function(e){a.push({id:e.departamento_id,name:""!=e.departamento_nombre?e.departamento_nombre:"Blank",provinceId:e.provincia_id,youngProportion:e.jovenes_proporcion,schoolAttendance:e.jovenes_asistencia_escolar,avgPersonsPerHouse:e.personas_por_cuarto,personsRentingHouses:e.propietarios_vivienda_proporcion})}),n.resolve(s("orderBy")(a,"name"))}).catch(function(e){n.reject(e)}),n.promise},i=function(){var n=t.defer();return this.getDepartmentList().then(function(t){a.get("data/barrios_caba.json").success(function(a){var o=[];e.forEach(a,function(e){var a=s("filter")(t,{id:e.comuna_id},!0)[0];a||(a={}),o.push({id:e.comuna_id,name:e.barrio_nombre,departmentName:e.comuna_nombre,youngProportion:a.youngProportion||0,schoolAttendance:a.schoolAttendance||0,avgPersonsPerHouse:a.avgPersonsPerHouse||0,personsRentingHouses:a.personsRentingHouses||0})}),n.resolve(s("orderBy")(o,"name"))}).catch(function(e){n.reject(e)})}),n.promise};return{getProvinceList:n,getDepartmentList:o,getNeighbourhoodList:i}}])}(window.angular),function(e){"use strict";e.module("app").service("QuizSvc",["$q","$http","QuizFactory",function(e,t,a){var s=function(e){return a[e]};return{getSectionData:s}}])}(window.angular),function(e){"use strict";e.module("app").factory("StudentDataSvc",function(){var e={},t=localStorage.getItem("studentData");t&&(e=JSON.parse(t));var a=function(){localStorage.removeItem("studentData"),e={}},s=function(){return e},n=function(e){localStorage.setItem("studentData",JSON.stringify(e))};return{clearStudentData:a,getStudentData:s,updateStudentData:n}})}(window.angular),function(e){"use strict";e.module("app").controller("AppCtrl",["$scope",function(t){var a=this;a.bodyClass="defaultSlide",t.$on("$stateChangeSuccess",function(t,s,n){return e.isDefined(s.data.bodyClass)?void(a.bodyClass=s.data.bodyClass):void(a.bodyClass="defaultSlide")})}])}(window.angular),function(e){"use strict";e.module("app").controller("HeaderCtrl",["$scope","$state","EventBusSvc","StudentDataSvc","ngDialog",function(e,t,a,s,n){e.step={},e.studentData=s.getStudentData(),e.$on("$stateChangeSuccess",function(n,o,i){switch(document.getElementById("header").scrollIntoView(),e.displayClassCode=!0,t.current.name){case"root.welcome":s.clearStudentData(),e.studentData=s.getStudentData(),e.displayClassCode=!1;break;case"root.signUpForm.classCode":e.displayClassCode=!1;break;case"root.signUpForm.studentData":a.broadcast("updateStep",{name:"PRIMER BLOQUE",number:1});break;case"root.quizSection1.question":var r=1;a.broadcast("updateStep",{name:"PRIMER BLOQUE",number:r+parseInt(i.pageNumber)});break;case"root.quizSection1.result":a.broadcast("updateStep",{name:"PRIMER BLOQUE",number:4});break;case"root.quizSection2.question":var r=4;a.broadcast("updateStep",{name:"SEGUNDO BLOQUE",number:r+parseInt(i.pageNumber)});break;case"root.quizSection2.result":a.broadcast("updateStep",{name:"SEGUNDO BLOQUE",number:7});break;case"root.quizSection3.result":a.broadcast("updateStep",{name:"BLOQUE FINAL",number:8})}}),a.subscribe("updateClassCode",function(t,a){e.studentData.classCode=a}),a.subscribe("updateStep",function(t,a){e.stepName=a.name,e.progressStyle={width:12.5*a.number+"%"}}),e.openAboutModal=function(){n.open({template:"html/default/about.html",className:"ngdialog-theme-default",width:"80%"})}}])}(window.angular),function(e){"use strict";e.module("app").controller("QuizCtrl",["$scope","$state","$stateParams","EventBusSvc","StudentDataSvc","QuizSvc","$firebaseArray",function(e,t,a,s,n,o,i){e.studentData=n.getStudentData();var r=firebase.database().ref().child("studentsPerClass/"+e.studentData.classCode);e.studentsPerClass=i(r),e.sectionData=o.getSectionData(t.current.data.stepNumber),e.pageData=e.sectionData.pages[a.pageNumber],e.sliderOptions={floor:0,ceil:100,hideLimitLabels:!0,showTicks:!0,ticksArray:[0,50,100]},e.keys=[],e.keys.YOUR_DEPARTMENT=2==e.studentData.province.id?"comuna":"departamento",e.keys.YOUR_PROVINCE=(2==e.studentData.province.id?"":"Provincia de ")+e.studentData.province.name,e.goToNextPage=function(a){var s="root.quizSection{{stepNumber}}.question".replace("{{stepNumber}}",t.current.data.stepNumber),o="root.quizSection{{stepNumber}}.result".replace("{{stepNumber}}",t.current.data.stepNumber);n.updateStudentData(e.studentData),a?t.go(s,{pageNumber:a}):(2==t.current.data.stepNumber&&e.studentsPerClass.$add(e.studentData),t.go(o))},e.getTranslationKey=function(t){return{key:e.keys[t]}},e.initNumericValue=function(t,a){e.studentData[e.sectionData.id]||(e.studentData[e.sectionData.id]={}),e.studentData[e.sectionData.id][t]||(a?e.studentData[e.sectionData.id][t]={}:e.studentData[e.sectionData.id][t]=0),!e.studentData[e.sectionData.id][t][a]&&a&&(e.studentData[e.sectionData.id][t][a]=0)},e.decrementNumericValue=function(t,a){var s=a?e.studentData[e.sectionData.id][t][a]:e.studentData[e.sectionData.id][t];s-1>=e.sliderOptions.floor&&(a?e.studentData[e.sectionData.id][t][a]-=1:e.studentData[e.sectionData.id][t]-=1)},e.incrementNumericValue=function(t,a){var s=a?e.studentData[e.sectionData.id][t][a]:e.studentData[e.sectionData.id][t];s+1<=e.sliderOptions.ceil&&(a?e.studentData[e.sectionData.id][t][a]+=1:e.studentData[e.sectionData.id][t]+=1)}}])}(window.angular),function(e){"use strict";e.module("app").controller("ResultSection1Ctrl",["$scope","$state","StudentDataSvc","QuizSvc","LocationIndicatorSvc",function(t,a,s,n,o){var i=function(){t.studentData=s.getStudentData(),t.sectionData=n.getSectionData(a.current.data.stepNumber),t.keys=[],t.keys.YOUR_DEPARTMENT=2==t.studentData.province.id?"comuna":"departamento",t.keys.YOUR_PROVINCE=t.studentData.province.name,t.calculateResults()};t.getTranslationKey=function(e){return{key:t.keys[e]}},t.calculateResults=function(){t.results=[],e.forEach(t.sectionData.pages,function(a){e.forEach(a.questions,function(a){var s={questionText:a.text,options:[]};e.forEach(a.options,function(e){var n={optionText:e.textKey};n.yourAnswer=t.studentData[t.sectionData.id][a.id][e.id],"department"==e.id?n.censusResult=100*t.studentData.department[a.id]:"province"==e.id&&(n.censusResult=100*t.studentData.province[a.id]),s.options.push(n)}),t.results.push(s)})})},i()}])}(window.angular),function(e){"use strict";e.module("app").controller("ResultSection2Ctrl",["$scope","$state","StudentDataSvc","QuizSvc","LocationIndicatorSvc","$firebaseArray",function(t,a,s,n,o,i){var r=function(){t.studentData=s.getStudentData(),t.sectionData=n.getSectionData(a.current.data.stepNumber),t.keys=[],t.keys.YOUR_DEPARTMENT=2==t.studentData.province.id?"comuna":"departamento",t.keys.YOUR_PROVINCE=(2==t.studentData.province.id?"":"Provincia de ")+t.studentData.province.name;var e=firebase.database().ref().child("studentsPerClass/"+t.studentData.classCode);t.studentsPerClass=i(e),t.studentsPerClass.$loaded().then(function(){t.calculateResults(),t.displayResults=!0,t.studentsPerClass.$watch(function(){t.calculateResults()})})};t.getTranslationKey=function(e){return{key:t.keys[e]}},t.calculateResults=function(){t.results={},t.classAverages={avgPersonsPerHouse:{yourHouse:0,yourDepartment:0,yourProvince:0},personsRentingHouses:{department:0,province:0},rentedHouse:0},e.forEach(t.studentsPerClass,function(e){t.classAverages.avgPersonsPerHouse.yourHouse+=e[t.sectionData.id].personsPerHouse/e[t.sectionData.id].roomsPerHouse,t.classAverages.avgPersonsPerHouse.yourDepartment+=e[t.sectionData.id].avgPersonsPerHouse.department,t.classAverages.avgPersonsPerHouse.yourProvince+=e[t.sectionData.id].avgPersonsPerHouse.province,t.classAverages.personsRentingHouses.department+=e[t.sectionData.id].personsRentingHouses.department,t.classAverages.personsRentingHouses.province+=e[t.sectionData.id].personsRentingHouses.province,t.classAverages.personsRentingHouses.province+=e[t.sectionData.id].personsRentingHouses.province,t.classAverages.rentedHouse+=parseInt(e[t.sectionData.id].rentedHouse)}),e.forEach(t.sectionData.pages,function(a){if("avgPersonsPerHouse"==a.id){var s={questionText:"Personas que duermen por habitación en promedio:",options:[]};s.options.push({optionText:"YOUR_HOUSE",yourAnswer:t.studentData[t.sectionData.id].personsPerHouse/t.studentData[t.sectionData.id].roomsPerHouse,yourClass:t.classAverages.avgPersonsPerHouse.yourHouse/t.studentsPerClass.length}),s.options.push({optionText:"YOUR_DEPARTMENT",yourAnswer:t.studentData[t.sectionData.id].avgPersonsPerHouse.department,censusResult:t.studentData.department.avgPersonsPerHouse,yourClass:t.classAverages.avgPersonsPerHouse.yourDepartment/t.studentsPerClass.length}),s.options.push({optionText:"YOUR_PROVINCE",yourAnswer:t.studentData[t.sectionData.id].avgPersonsPerHouse.province,censusResult:t.studentData.province.avgPersonsPerHouse,yourClass:t.classAverages.avgPersonsPerHouse.yourProvince/t.studentsPerClass.length}),t.results[a.id]=s}if("avgRentingHouse"==a.id){var n={};e.forEach(a.questions,function(a){if("rentedHouse"==a.id){var s=Math.round(100*t.classAverages.rentedHouse/t.studentsPerClass.length),o=100-s,i={questionText:"Vive en un lugar alquilado:",optionText:"Vivís en una vivienda alquilada?",yourAnswer:parseInt(t.studentData[t.sectionData.id].rentedHouse)?"Sí":"No",yourClass:{labels:["Sí","No"],data:[s,o],colors:["#EEEEEE","#34D1E2"],options:{legend:{display:!0,labels:{generateLabels:function(e){return e.data.labels.map(function(t,a){var s=e.getDatasetMeta(0),n=e.data.datasets[0],o=(s.data[a],Chart.helpers.getValueAtIndexOrDefault),i=e.options.elements.arc,r=n.backgroundColor[a],d=o(n.borderColor,a,i.borderColor),l=o(n.borderWidth,a,i.borderWidth);return{text:t+" "+n.data[a]+" %",fillStyle:r,strokeStyle:d,lineWidth:l,hidden:isNaN(n.data[a])||s.data[a].hidden,index:a}})}}}}}};n.rentedHouse=i}if("personsRentingHouses"==a.id){var r={questionText:"Porcentaje de personas que vive en un lugar alquilado en:",options:[]};e.forEach(a.options,function(e){var s={optionText:e.textKey};s.yourAnswer=t.studentData[t.sectionData.id][a.id][e.id],s.yourClass=t.classAverages[a.id][e.id]/t.studentsPerClass.length,s.censusResult=100*t.studentData[e.id][a.id],r.options.push(s)}),n.personsRentingHouses=r}}),t.results[a.id]=n}})},r()}])}(window.angular),function(e){"use strict";e.module("app").controller("ResultSection3Ctrl",["$scope","$state","$filter","StudentDataSvc","LocationIndicatorSvc",function(e,t,a,s,n){var o=function(){e.studentData=s.getStudentData(),e.comparisonType="youngProportion",e.currentDepartment=null,n.getNeighbourhoodList().then(function(t){e.departmentList=t}),e.currentValue=100,e.pieChartOptions={animate:{duration:0,enabled:!1},barColor:function(e){var t=this.renderer.getCtx(),a=this.renderer.getCanvas(),s=t.createLinearGradient(0,0,a.width,0);return s.addColorStop(0,"#45E3C1"),s.addColorStop(1,"#00CAF6"),s},scaleColor:!1,lineWidth:6,lineCap:"round",size:70,trackColor:"#EEEEEE"},e.mapControl={}};e.closeTooltip=function(t){var a=document.getElementById("descriptionDiv");a.classList.remove("active"),e.mapControl.removeActiveTooltips()},e.changeComparisonType=function(t){e.comparisonType=t,e.updateNormalizedValue(),e.mapControl.map.setAttribute("class",t)},e.updateNormalizedValue=function(){e.currentDepartment&&("avgPersonsPerHouse"==e.comparisonType?e.currentValue=Math.round(e.currentDepartment[e.comparisonType]):e.currentValue=Math.round(100*e.currentDepartment[e.comparisonType]))},e.showDepartmentTooltip=function(t){e.$apply(function(){var s=parseInt(t.currentTarget.id),n=a("filter")(e.departmentList,{id:s})[0];e.currentDepartment=n;var o=t.currentTarget;o.classList.add("active");var i=document.getElementById("descriptionDiv"),r=document.getElementById("comparisonMap");i.classList.add("active"),i.style.left=t.clientX+r.offsetLeft+"px",i.style.top=t.clientY+r.offsetTop-118+"px",e.updateNormalizedValue()})},o()}])}(window.angular),function(e){"use strict";e.module("app").controller("signUpFormCtrl",["$scope","$state","$filter","EventBusSvc","StudentDataSvc","LocationIndicatorSvc",function(e,t,a,s,n,o){var i=function(){e.studentData=n.getStudentData(),e.defaultProvince={name:"Provincia"},e.defaultDepartment={name:"¿Dónde vivís?"},o.getProvinceList().then(function(t){e.provinceList=[e.defaultProvince],e.provinceList=e.provinceList.concat(t)}),e.departmentList=[e.defaultDepartment],e.pageLoad=!0},r=function(){e.pageLoad?e.pageLoad=!1:e.studentData.department=e.defaultDepartment;var t=e.studentData.province&&e.studentData.province.id?e.studentData.province.id:null;2==t?o.getNeighbourhoodList().then(function(t){e.departmentList=[e.defaultDepartment],e.departmentList=e.departmentList.concat(t)}):o.getDepartmentList().then(function(s){e.departmentList=[e.defaultDepartment],e.departmentList=e.departmentList.concat(a("filter")(s,{provinceId:t},!0))})};e.$watch("studentData.province",function(){r()}),e.initProvinceCombobox=function(){e.studentData.province||(e.studentData.province=e.defaultProvince)},e.initDepartmentCombobox=function(){e.studentData.department||(e.studentData.department=e.defaultDepartment)},e.saveClassCode=function(){t.go("root.signUpForm.studentData"),n.updateStudentData(e.studentData),s.broadcast("updateClassCode",e.studentData.classCode)},e.saveStudentData=function(){n.updateStudentData(e.studentData),t.go("root.quizSection1.question",{pageNumber:1})},i()}])}(window.angular),function(e){"use strict";e.module("app").controller("welcomeCtrl",["$scope",function(e){}])}(window.angular),function(e){"use strict";e.module("templates",[]).run(["$templateCache",function(e){e.put("index.html",'<!DOCTYPE html><html ng-app="app" ng-controller="AppCtrl as appCtrl"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><!--base href="/"--><title>Los datos y vos</title><script src="https://use.fontawesome.com/3d4418b16e.js"></script><link rel="stylesheet" href="css/style.css"></head><body class="{{ appCtrl.bodyClass }}"><header ui-view="header" id="header"></header><div ui-view="container" id="container" class="wrapper"></div><!-- App --><script src="js/vendor.js"></script><script src="js/bundle.js"></script></body></html>'),e.put("html/default/about.html",'<div class="dialog"><h2 class="dialog__heading">Acerca</h2><p class="dialog__text">Esta aplicaci&oacute;n fue hecha con ❤ por el Open Data Institute, los equipos de Datos e Innovaci&oacute;n P&uacute;blica del Ministerio de Modernizaci&oacute;n argentino, Aerolab y Eidos. Ahora es tuya, ¡Disfrutala!</p><h2 class="dialog__heading">T&eacute;rminos de uso</h2><p class="dialog__text">Los datos que agregues a esta aplicaci&oacute;n no est&aacute;n asociados a ning&uacute;n apellido. S&oacute;lo guardamos la informaci&oacute;n por un breve per&iacute;odo, y en una planilla de c&aacute;lculo, para poder mostrarte visualizaciones en la aplicaci&oacute;n ¡Usala tranquilo!</p></div>'),e.put("html/default/header.html",'<div class="header"><div class="wrapper header__container"><div class="header__item header__item--1">Los datos y Vos</div><div ng-if="studentData.classCode && displayClassCode" class="header__item header__item--2 hidden-mobile"><div class="classCode header__code">Clase: {{studentData.classCode}}</div><div class="progress"><div class="header__progress-container"><div class="header__progress-bar" ng-style="progressStyle"></div></div><!-- <div class="header__section">{{stepName}}</div> --></div></div><div class="header__item header__item--3"><a href="" ng-click="openAboutModal()" class="header__acerca">Acerca</a></div></div><div ng-if="studentData.classCode && displayClassCode" class="header__item header__item--2 hidden-desktop"><div class="classCode header__code">Clase: {{studentData.classCode}}</div><div class="progress"><div class="header__progress-container"><div class="header__progress-bar" ng-style="progressStyle"></div></div><div class="header__section">{{stepName}}</div></div></div></div>'),e.put("html/quiz/index.html","<div ui-view></div>"),e.put("html/quiz/question.html",'<form name="questionForm" ng-submit="questionForm.$valid && goToNextPage(pageData.nextPage)" novalidate><div ng-repeat="question in pageData.questions" class="{{question.type}} question__single-container"><div class="question__text">{{question.text}}</div><div class="question__option-wrapper" ng-if="question.type == \'slider\'"><div ng-repeat="option in question.options" ng-init="initNumericValue(question.id, option.id)" class="question__option-item"><p class="question__option">{{ option.textKey | translate: getTranslationKey(option.textKey) }}</p><div class="question__input"><span class="input-square input-square--left" ng-click="decrementNumericValue(question.id, option.id)"></span><rzslider rz-slider-model="studentData[sectionData.id][question.id][option.id]" rz-slider-options="sliderOptions"></rzslider><span class="input-square input-square--right" ng-click="incrementNumericValue(question.id, option.id)"></span></div></div></div><div ng-if="question.type == \'numeric_single_option\'"><div class="question__input"><span class="input-square input-square--left" ng-click="decrementNumericValue(question.id)"></span> <input type="number" ng-model="studentData[sectionData.id][question.id]" ng-init="initNumericValue(question.id)" class="question__number-input"> <span class="input-square input-square--right" ng-click="incrementNumericValue(question.id)"></span></div></div><div ng-if="question.type == \'radio_boolean\'"><div class="question__radio"><input type="radio" ng-model="studentData[sectionData.id][question.id]" value="1" id="radio-si" ng-required="!studentData[sectionData.id][question.id]"><div class="check"></div><label for="radio-si">Sí</label></div><div class="question__radio"><input type="radio" ng-model="studentData[sectionData.id][question.id]" value="0" id="radio-no" ng-required="!studentData[sectionData.id][question.id]"><div class="check"></div><label for="radio-no">No</label></div></div><div class="question__option-wrapper" ng-if="question.type == \'numeric_multiple_option\'"><div ng-repeat="option in question.options" class="question__option-item"><p class="question__option">{{ option.textKey | translate: getTranslationKey(option.textKey) }}</p><div class="question__input"><span class="input-square input-square--left" ng-click="decrementNumericValue(question.id, option.id)"></span> <input type="number" ng-model="studentData[sectionData.id][question.id][option.id]" ng-init="initNumericValue(question.id, option.id)" class="question__number-input"> <span class="input-square input-square--right" ng-click="incrementNumericValue(question.id, option.id)"></span></div></div></div></div><button type="submit" class="btn center--mobile right--desktop">Siguiente</button></form>'),e.put("html/quiz/section1-result.html",'<div><h2>¡Wow! ¿Te imaginabas esto, {{studentData.name}}?</h2><div class="questionResult results" ng-repeat="question in results"><p>{{question.questionText}}</p><!-- Start table --><div class="Rtable Rtable--3cols"><!--Table Heading --><div class="Rtable__cell"></div><div class="Rtable__cell Rtable__heading results__yours">Tus respuestas</div><div class="Rtable__cell border__right--0 Rtable__heading">Censo Nacional del 2010</div><!--Table Body--><div ng-repeat="option in question.options" class="Rtable__results"><div class="Rtable__cell">{{ option.optionText.concat(\'_RESULT\') | translate: getTranslationKey(option.optionText) }}</div><div class="Rtable__cell results__yours"><span class="results__number">{{option.yourAnswer | number:0}}%</span><object type="image/svg+xml" data="img/graph-svg/circle-graph.svg" style="width:{{option.yourAnswer | number:0}}%" class="results__graphic"><img src="img/graph-svg/circle-graph.png" class="results__graphic"></object></div><div class="Rtable__cell"><span class="results__number">{{option.censusResult | number:0}}%</span><object type="image/svg+xml" data="img/graph-svg/circle-graph.svg" style="width:{{option.censusResult | number:0}}%" class="results__graphic"><img src="img/graph-svg/circle-graph.png" class="results__graphic"></object></div></div></div><!-- End table --></div><div><div class="results__bottom"><button ui-sref="root.quizSection2.question({pageNumber: 1})" class="btn center--mobile right--desktop">Siguiente</button></div></div></div>'),e.put("html/quiz/section2-result.html",'<div ng-show="displayResults"><h2>¡Wow! ¿Te imaginabas esto, {{studentData.name}}?</h2><div class="questionResult"><p>{{results.avgPersonsPerHouse.questionText}}</p><!-- Start table --><div class="Rtable Rtable--4cols"><div class="Rtable__cell"></div><div class="Rtable__cell Rtable__heading results__yours">Tus respuestas</div><div class="Rtable__cell Rtable__heading">Respuestas promedio de tu clase</div><div class="Rtable__cell border__right--0 Rtable__heading">Censo Nacional del 2010</div><div ng-repeat="option in results.avgPersonsPerHouse.options" class="Rtable__results"><div class="Rtable__cell Rtable__cell--per-promedio">{{ option.optionText.concat(\'_RESULT\') | translate: getTranslationKey(option.optionText) }}</div><div class="Rtable__cell Rtable__cell--per-promedio results__yours"><span class="results__promedio">{{option.yourAnswer | number:2}}</span> <span ng-if="option.yourAnswer" class="results__text">personas <span class="no-wrap">en promedio</span></span></div><div class="Rtable__cell Rtable__cell--per-promedio"><span class="results__promedio">{{option.yourClass | number:2}}</span> <span ng-if="option.yourAnswer" class="results__text">personas <span class="no-wrap">en promedio</span></span></div><div class="Rtable__cell Rtable__cell--per-promedio"><span class="results__promedio">{{option.censusResult | number:2}}</span> <span ng-if="option.censusResult" class="results__text">personas <span class="no-wrap">en promedio</span></span></div></div></div><!-- End table --></div><div class="questionResult"><p>{{results.avgRentingHouse.rentedHouse.questionText}}</p><!-- Start table --><div class="Rtable Rtable--3cols"><div class="Rtable__cell"></div><div class="Rtable__cell Rtable__heading results__yours">Tu respuesta</div><div class="Rtable__cell Rtable__heading border__right--0">Respuestas promedio de tu clase</div><div class="Rtable__results"><div class="Rtable__cell Rtable__cell--per-promedio">{{ results.avgRentingHouse.rentedHouse.optionText }}</div><div class="Rtable__cell Rtable__cell--per-promedio results__yours"><span class="results__promedio">{{ results.avgRentingHouse.rentedHouse.yourAnswer }}</span></div><div class="Rtable__cell Rtable__cell--per-promedio"><canvas id="doughnut" class="chart chart-doughnut" chart-data="results.avgRentingHouse.rentedHouse.yourClass.data" chart-labels="results.avgRentingHouse.rentedHouse.yourClass.labels" chart-colors="results.avgRentingHouse.rentedHouse.yourClass.colors" chart-options="results.avgRentingHouse.rentedHouse.yourClass.options"></canvas></div></div></div><!-- End table --></div><div class="questionResult results"><p>{{results.avgRentingHouse.personsRentingHouses.questionText}}</p><!-- Start table --><div class="Rtable Rtable--4cols"><!--Table Heading --><div class="Rtable__cell"></div><div class="Rtable__cell Rtable__heading results__yours">Tus respuestas</div><div class="Rtable__cell Rtable__heading">Respuestas promedio de tu clase</div><div class="Rtable__cell border__right--0 Rtable__heading">Censo Nacional del 2010</div><!--Table Body--><div ng-repeat="option in results.avgRentingHouse.personsRentingHouses.options" class="Rtable__results"><div class="Rtable__cell">{{ option.optionText.concat(\'_RESULT\') | translate: getTranslationKey(option.optionText) }}</div><div class="Rtable__cell results__yours"><span class="results__number">{{option.yourAnswer | number:0}}%</span><object type="image/svg+xml" data="img/graph-svg/circle-graph.svg" style="width:{{option.yourAnswer | number:0}}%" class="results__graphic"><img src="img/graph-svg/circle-graph.png" class="results__graphic"></object></div><div class="Rtable__cell"><span class="results__number">{{option.yourClass | number:0}}%</span><object type="image/svg+xml" data="img/graph-svg/circle-graph.svg" style="width:{{option.yourClass | number:0}}%" class="results__graphic"><img src="img/graph-svg/circle-graph.png" class="results__graphic"></object></div><div class="Rtable__cell"><span class="results__number">{{option.censusResult | number:0}}%</span><object type="image/svg+xml" data="img/graph-svg/circle-graph.svg" style="width:{{option.censusResult | number:0}}%" class="results__graphic"><img src="img/graph-svg/circle-graph.png" class="results__graphic"></object></div></div></div><!-- End table --></div><div><div class="results__bottom"><button ui-sref="root.quizSection3.result" class="btn center--mobile right--desktop">Siguiente</button></div></div></div>'),
e.put("html/quiz/section3-result.html",'<div class="wrapper"><h2 class="center">Aprende m&aacute;s de los datos</h2><p class="center main-centered-text">Selecciona una ubicación en el mapa que ves a contuación y observa los resultados.</p><div class="comparativo"><div class="comparativo__buttons"><div class="comparativo__btn" ng-click="changeComparisonType(\'youngProportion\')" ng-class="{selected: comparisonType == \'youngProportion\' }"><div class="comparativo__circle comparativo__circle--primary"></div><h4 class="comparativo__heading">Comparativa 01</h4><p class="comparativo__text">Chicos entre 15 y 18 años en la poblaci&oacute;n</p></div><div class="comparativo__btn" ng-click="changeComparisonType(\'schoolAttendance\')" ng-class="{selected: comparisonType == \'schoolAttendance\' }"><div class="comparativo__circle comparativo__circle--secondary"></div><h4 class="comparativo__heading">Comparativa 02</h4><p class="comparativo__text">Chicos entre 15 y 18 que van a la escuela</p></div><div class="comparativo__btn" ng-click="changeComparisonType(\'avgPersonsPerHouse\')" ng-class="{selected: comparisonType == \'avgPersonsPerHouse\' }"><div class="comparativo__circle comparativo__circle--tertiary"></div><h4 class="comparativo__heading">Comparativa 03</h4><p class="comparativo__text">Promedio de personas por habitaci&oacute;n</p></div><div class="comparativo__btn" ng-click="changeComparisonType(\'personsRentingHouses\')" ng-class="{selected: comparisonType == \'personsRentingHouses\' }"><div class="comparativo__circle comparativo__circle--fourth"></div><h4 class="comparativo__heading">Comparativa 04</h4><p class="comparativo__text">Promedio de personas que vive en un lugar alquilado</p></div></div><div class="comparativo__map youngProportion" id="map-wrapper"><comparison-map province="2" click-function="showDepartmentTooltip" map-control="mapControl"></comparison-map><div id="descriptionDiv" class="description {{comparisonType}}"><a ng-click="closeTooltip()"><i class="fa fa-times description__close" aria-hidden="true"></i></a><div ng-if="comparisonType != \'avgPersonsPerHouse\'" class="pieChart" easypiechart options="pieChartOptions" percent="currentValue"><div class="easypielabel">{{currentValue}}%</div></div><span ng-if="comparisonType == \'avgPersonsPerHouse\'">{{currentValue}}</span><p class="comparativo__comuna">{{currentDepartment.departmentName}}</p></div></div></div><div></div></div>'),e.put("html/sign-up/class-code.html",'<div class="code-slide"><form name="classCodeForm" ng-submit="classCodeForm.$valid && saveClassCode()" novalidate><div class="center"><p class="code-slide__text">Escrib&iacute; el c&oacute;digo de la clase que te dio tu profe.</p><input type="text" class="code-slide__input" ng-model="studentData.classCode" placeholder="" required><div><button type="submit" class="btn btn--alternative">Siguiente</button></div></div></form></div>'),e.put("html/sign-up/index.html","<div ui-view></div>"),e.put("html/sign-up/student-data.html",'<form name="studentDataForm" ng-submit="studentDataForm.$valid && studentData.department.id && saveStudentData()" novalidate><div class="student-info"><h2>Antes de empezar</h2><div class="student-info__inputs"><input type="text" ng-model="studentData.name" placeholder="Nombre" class="student-info__left input--info" required> <input type="number" ng-model="studentData.age" placeholder="Edad" class="student-info__right input--info" required><div dropdown-select="provinceList" dropdown-model="studentData.province" dropdown-item-label="name" ng-init="initProvinceCombobox()" placeholder="Provincia" class="student-info__left input--info" required></div><div dropdown-select="departmentList" dropdown-model="studentData.department" dropdown-item-label="name" ng-init="initDepartmentCombobox()" placeholder="¿Dónde vivís?" class="student-info__right input--info" required></div></div><svg-map province="studentData.province" department="studentData.department"></svg-map><div><button type="submit" class="btn right--desktop center--mobile">Siguiente</button></div></div></form>'),e.put("html/welcome/index.html",'<div class="center"><object type="image/svg+xml" data="img/illustrations/start-img.svg" class="welcome-slide__img"><img src="img/illustrations/start-img.png" class="welcome-slide__img"></object><h1>¡Bienvenido!</h1><h2 class="welcome-slide__subheading">A Los datos y vos</h2><div class="welcome-slide__text"><p class="main-centered-text">El Estado <b>crea un montón de datos</b> todo el tiempo. Que est&eacute;n digitalizados en formatos abiertos y al alcance de todos es s&uacute;per importante para que podamos <b>usarlos, crear y compartirlos con libertad</b>.</p><p><b>Estos datos son suyos, ¡veamos qué descubrís!</b></p></div><div><a ui-sref="root.signUpForm.classCode" class="btn">Siguiente</a></div></div>')}])}(window.angular);